<?phpclass Home extends ControllerCore{	protected $mode;		public function __initialize(){		$this->style('home');		$this->setModel('Home');		$this->setUtility('utilities');		$this->addLibrary('writer/Writer');		$this->addLibrary('writer/DirectoryWriter');		$this->writer = new Writer();		$this->dirwriter = new DirectoryWriter($this->writer);	}		public function createModule(){				$arranged_data = arrangeFieldsToBlocks();		$this->MODULENAME = concatenateSpace($_REQUEST['module_name']);				$this->writer->openFile($this->absPath.$this->MODULENAME.".php");		$this->writer->__initializeWriter();		$this->writer->writeHeader($this->MODULENAME,$_REQUEST['parent_name']);				foreach($arranged_data as $key => $value){			$this->writer->writeBlock($value['name'],$key);			foreach($value['fields'] as $key2 => $value2)				$this->writer->writeField($value2,$key2,$key);		}				$this->writer->writeFooter();		$this->writer->write();		$this->writer->close();				$this->home->saveHtmlContaier(htmlspecialchars($_REQUEST['field_block_container']),$this->MODULENAME,$_REQUEST['action_mode'],$_REQUEST['record_module']);		$this->createDirectory();		include $this->absPath.$this->MODULENAME.".php";		redirect("ModCreator","ListView","index","");			}		public function createDirectory(){			$this->dirwriter->__initialize($this->MODULENAME);			$this->dirwriter->copyDirectory($this->absPath.'modules/ModCreator/storage/modulefolder',$this->absPath.'modules/',$this->MODULENAME);			$this->dirwriter->renameFiles();			$this->dirwriter->writeModuleFile($this->writer->getModuleFile());	}	public function edit(){		$data['html'] = $this->home->getHtmlContaier($_REQUEST['record']);		$data['action_mode'] = "edit"; 		$data['record_module'] = $_REQUEST['record'];		$this->template('Common/Header');		$this->template('Home/Container',$data);	}		public function create(){		$data['html'] = $this->home->getHtmlContaier(1);		$data['action_mode'] = "create"; 		$this->template('Common/Header');		$this->template('Home/Container',$data);	}	}?>